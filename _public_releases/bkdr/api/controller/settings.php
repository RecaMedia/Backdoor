<?php
 class Settings extends Controller { public function index(){ if ($this->api_key && $this->api_member_key) { $se = $this->loadModel('settingsmanagement'); $return = $se->getSettings(); } else { $return = array('success' => false,'statusMessage' => 'Access denied.'); } echo json_encode($return); } public function open(){ if ($this->api_key) { $se = $this->loadModel('settingsmanagement'); $return = $se->getOpenSettings(); } else { $return = array('success' => false,'statusMessage' => 'Access denied.'); } echo json_encode($return); } public function update() { if ($this->api_key && $this->api_member_key) { $se = $this->loadModel('settingsmanagement'); $return = $se->updateSettings(); } else { $return = array('success' => false,'statusMessage' => 'Access denied.'); } echo json_encode($return); } }