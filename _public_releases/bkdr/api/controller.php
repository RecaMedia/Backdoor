<?php
 class Controller{ public $db = null; public $config = null; public $domain = null; public $api_key = false; public $api_member_has_key = false; public $api_member_code = false; public $api_member_key = null; private $base_dir = null; private $access = null; public function __construct(){ global $base_dir; global $configurations; $this->base_dir =& $base_dir; $this->config =& $configurations; $this->access = new Access(); $this->db = $this->access->db; $this->api_key = $this->access->api_key; $this->api_member_key = $this->access->api_member_key; $this->sess = $this->access->sess; } public function encrypt($String){ return base64_encode($String); } public function decrypt($String){ return base64_decode($String); } public function loadModel($model_name){ require $this->base_dir.'/models/' . strtolower($model_name) . '.php'; return new $model_name($this->db,$this->domain,$this->config); } }